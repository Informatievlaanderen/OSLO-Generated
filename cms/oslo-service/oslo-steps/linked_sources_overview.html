<!DOCTYPE html>
<html lang="en">
<head>
    <title>FAST| OSLO-STEPS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://dij151upo6vad.cloudfront.net/2.latest/css/vlaanderen-ui.css"/>
    <link rel="stylesheet" href="https://dij151upo6vad.cloudfront.net/2.latest/css/vlaanderen-ui-corporate.css"/>

    <link rel="icon" sizes="192x192"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/icon-highres-precomposed.png">
    <link rel="apple-touch-icon"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-iphone-precomposed.png">
    <link rel="apple-touch-icon" sizes="76x76"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-ipad-precomposed.png">
    <link rel="apple-touch-icon" sizes="120x120"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-iphone-retina-precomposed.png">
    <link rel="apple-touch-icon" sizes="152x152"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-ipad-retina-precomposed.png">

    <meta name="msapplication-square70x70logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-small.png"/>
    <meta name="msapplication-square150x150logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-medium.png"/>
    <meta name="msapplication-wide310x150logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-wide.png"/>
    <meta name="msapplication-square310x310logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-large.png"/>
    <meta name="msapplication-TileColor" content="#FFE615"/>
    <!-- HTML icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

<header class="content-header content-header--small content-header--half-image u-spacer--large">
    <div class="content-header__wrapper">
        <picture class="content-header__bg">
            <img sizes="50vw" src="//www.vlaanderen.be/sites/default/files/ip_acm/page_banner_wide_alt/header.jpg"
                 srcset="//www.vlaanderen.be/sites/default/files/ip_acm/page_banner_mobile_alt/header.jpg 320w, //www.vlaanderen.be/sites/default/files/ip_acm/page_banner_narrow/header.jpg 1024w, //www.vlaanderen.be/sites/default/files/ip_acm/page_banner_wide_alt/header.jpg 1600w"
                 alt="" title="">
        </picture>
        <div class="layout layout--wide">
            <div class="content-header__content">
                <div class="content-header__logo-wrapper">
                    <a href="../oslo-services.html" class="content-header__entity-logo">
                        <span class="content-header__entity-logo__prefix">OSLO Service</span>
                        <span class="content-header__entity-logo__title">FAST - OSLO-STEPS</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</header>

<main>
    <div class="layout layout--wide">
        <ul class="nav_bar">
            <li><a class="button" href="./intro.html">Intro</a></li>
            <li><a class="button" href="./overview.html">Overzicht OSLO-STEPS</a></li>
            <li><a class="button" href="./domain_model.html">Domein Model</a></li>
            <li><a class="button" href="./linked_sources_overview.html">Overzicht Linked Sources</a></li>
            <li><a class="button" href="./rdf_workflow_description.html">RDF Workflow Beschrijving</a></li>
        </ul>

        <h1 class="h1">OSLO-STEPS Linked Sources</h1>
        <div class="h2_alinea">
            <h2 class="h2">Introductie</h2>
            <p>
                We beschrijven de verschillende gegevensbronnen en data formaten waarmee rekening moet worden gehouden bij het samenstellen van workflows. 
                Verder leggen we uit hoe deze formaten zich tot elkaar verhouden en hoe we de link maken tussen de verschillende relevante formaten.
            </p>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">Gegevensbronnen</h2>
            <p>
                Het planningsproces maakt gebruik van (i) beschrijvingen van de stappen van de openbare dienst in OSLO-STEPS, (ii) informatie over de cost van de stappen, en (iii) informatie over de 
                gebruiker. We zullen de drie componenten overlopen en vervolgens de Interne Step Representation in N3 introduceren die door de workflow planner wordt gebruikt.
            </p>
            <figure class="img">
                <img src="./linked_sources_images/planning_workflow.png"/>
                <figcaption>Figuur 1: Een overzicht van linked sources in planning workflows.</figcaption>
            </figure>
         </div>
         <div class="h3_alinea">
            <h2 class="h3">OSLO-STEPS beschrijving</h2>
            <p>
                De volgende concepten van het data model zijn relevant voor het planningsproces: steps, states en 
                state shapes. We zullen deze concepten kort beschrijven, een volledige documentatie is beschikbaar <a href="https://fast.ilabt.imec.be/ns/oslo-steps/index-en.html">hier</a>. 
            </p>
            <br/>
            <h3 class="h4">Steps</h3>
            <p>
                Een step (of stap) is een actie die in een workflow kan worden uitgevoerd. Elke stap kan alleen worden
                worden uitgevoerd als aan bepaalde voorwaarden is voldaan (pre-conditie) en elke stap leidt tot een
                nieuwe situatie (postconditie). We beschrijven deze condities en de resulterende
                situatie in termen van zogenaamde states. In voorbeeld 1 zien we de
                beschrijving van de stap confirmAddressChange. Deze beschrijving verwijst naar het bezoek
                van een politieagent die in België vereist is als een burger zijn adres wil wijzigen.
                De stap kan alleen worden uitgevoerd, als de adreswijziging wordt aangegeven en dan na het bezoek
                van de politieagent, de wijziging wordt bevestigd.
            </p>
            <br/>
            <p>
                Stappen kunnen op verschillende granulariteitsniveaus worden beschreven. Wij kunnen bijvoorbeeld
                het verstrekken van persoonlijke informatie zoals naam, geboortedatum en
                rijksregisternummer als één grote stap zien of we kunnen elk detail zien als een kleine
                afzonderlijke stap. Het hangt af van de specifieke use case, hoe fijn de stappen moeten
                moeten zijn en in ons project hebben we verschillende niveaus van granulariteit nodig. Daarom hebben we besloten
                om verschillende hiërarchie niveaus te introduceren: component niveau, container niveau en journey
                niveau. Workflows kunnen op elk van deze niveaus worden samengesteld. De stap weergegeven in
                Voorbeeld 1 is een stap op component niveau, dat is het laagste niveau in onze representatie en
                de stap kan niet meer worden opgesplitst in kleinere stappen.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        step:confirmAddressChange a o-steps:ComponentLevelStep ;
                            rdfs:label "Confirmation of address change"@en ;
                            o-steps:producesState state:addressChangeConfirmed ;
                            o-steps:requiresState state:addressChangeDeclared .
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 1: Stap met pre/post conditie states in OSLO-STEPS.
                </figcaption>
            </figure>
            <h3 class="h4">States</h3>
            <p>
                Pre- en postcondities van stappen worden beschreven als states. States zijn voorstellingen
                van situaties. In de context van 'steps' kunnen deze situaties ofwel vereisten zijn om
                een stap uit te voeren of ze kunnen het resultaat zijn van zo'n uitvoering. In ons formaat heeft elke
                state een URI en kan dus meta-informatie bevatten. Een state heeft verder één of
                meer state shapes toegewezen die het verder beschrijven. Bovendien kan een state UI-shapes 
                hebben die gebruikt worden om het dataformaat te specificeren waaraan een antwoord moet voldoen.
            </p>
            <br/>
            <p>
                In Voorbeeld 2 zien we een 'state declaration'. De state
                <i>state:addressChangeDeclared</i> is een status in het OSLO-vocabularium en er is 
                een shape <i>shape:addressChangeDeclaredShape</i> eraan geassocieerd als een state
                shape.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        state:addressChangeDeclared a o-steps:State ;
                            rdfs:label "Declared address change"@en ;
                            o-steps:hasStateShape shape:addressChangeDeclaredShape .
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 2: state declaration.
                </figcaption>
            </figure>
            <h3 class="h4">State en UI shapes</h3>
            <p>
                Shapes specificeren hoe de triples die een state vertegenwoordigen eruit moeten zien. Hier gebruiken we
                de <a href="https://www.w3.org/TR/shacl/">SHape Constraints Language (SHACL)</a>. Met SHACL kunnen we de
                syntactische vorm van een tripel of een verzameling tripels beschrijven. Dit omvat onder meer het specificeren van de
                predicaten waarvoor een bepaalde node waarden moet hebben, maar ook het specifieke soort
                waarden (string volgens een bepaald patroon, geheel getal binnen een bereik, enz.)
                
            </p>
            <br/>
            <p>
                Het hangt van het beoogde gebruik van de shape af welk soort informatie deze moet
                moet bevatten. Terwijl het voor ons workflow composition process erg belangrijk is of
                bepaalde triples geldig zijn op een bepaald moment, is het voor de gebruikersinterface
                veel belangrijker hoe de gegevens moeten worden weergegeven. Het moet bijvoorbeeld
                worden uitgesloten dat gebruikers negatieve leeftijden kunnen invoeren of een negatief aantal
                tickets kunnen bestellen. Voor de use case van het project hebben we twee verschillende soorten shapes gedefinieerd: UI
                shapes bevatten de informatie die relevant is voor de UI, state shapes bevatten de
                informatie die onze interne representatie nodig heeft.
            </p>
            <br/>
            <p>
                In Voorbeeld 3 wordt een state shape weergegeven. Om de state te verkrijgen waaraan de
                shape geassocieerd is, moet er voor elke instantie van de klasse o-persoon:Inwoner
                een triple met het predicaat ex:addressChangeDeclared zijn en het object
                moet true zijn. Deze state shape is bijzonder in de zin dat de informatie die hij verschaft
                ook interessant is vanuit een UI oogpunt en daarom zou het ook gebruikt kunnen worden als een UI
                shape. We stellen niet alleen dat er een bepaald triple moet bestaan (sh:minCount 1), we
                we geven zelfs specifiek de waarde aan en die waarde is een constante. In de praktijk declareren de meeste state shapes 
                het bestaan van bepaalde triples, omdat onze composition steunt op de afhankelijkheden van data op triple niveau.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        shape:addressChangeDeclaredShape a o-steps:StateShape ;
                            sh:targetClass o-persoon:Inwoner ;
                            sh:property shape:addressChangeValue .
                        
                        shape:addressChangeValue a sh:PropertyShape ;
                            sh:path ex:addressChangeDeclared;
                            sh:hasValue true ;
                            sh:minCount 1.
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 3: Informatie van een gebruiker in RDF en een state shape die de postconditie van een stap uitdrukt.
                </figcaption>
            </figure>
        </div>
        <div class="h3_alinea">
            <h2 class="h3">Steps cost information</h2>
            <p>
                Naast de vereiste en geproduceerde state van een stap, moeten we ook de
                weights of gewichten uitdrukken. Weights zijn kwantitatieve waarden die een soort cost van de stap uitdrukken.
                Een cost kan bijvoorbeeld de tijd zijn die wordt besteed aan het uitvoeren van een stap of het
                geld (indien van toepassing) dat u moet betalen om de stap uit te voeren.
            </p>
            <br/>
            <p>
                In het algemeen is de cost van een stap afhankelijk van het gebruik. Onze implementatie kan
                stappen verwerken, zolang het mechanisme hoe de costs moeten worden gecombineerd
                duidelijk gedefinieerd is. Wij berekenen bijvoorbeeld de totale cost van een workflow als de som
                van de costs van de verschillende stappen. Om een cost te declareren hebben we het predicaat
                cost:cost dat verschillende subpredicaten kan hebben. In onze huidige implementatie werken we
                met de cost:usersatifaction - hier geven we een waarde tussen 0 en
                1 waarbij 0 zeer slecht is en 1 goed, de waarden kunnen worden vermenigvuldigd om de
                totale waarde voor een workflow te krijgen - cost:duration - hier meten we de tijd die een stap
                duurt, de waarde wordt toegevoegd - cost:success - hier leggen we de waarschijnlijkheid vast dat een
                stap tot het gewenste resultaat leidt - en cost:monetaryCost - hier meten we
                werkelijke kosten in euro's die tot nu toe niet zo relevant zijn in onze huidige
                implementatie.
            </p>
            <br/>
            <p>
                Een voorbeeld van het gebruik van het cost vocabularium staat in voorbeeld 4. De stap van
                het bevestigen van een adreswijziging door de politie duurt normaal 2 weken (10160
                minuten), het bezoek is gratis (0 monetaire kosten), 97% van de gebruikers is tevreden over die
                stap en in 98% van de gevallen wordt de stap als geaccepteerd uitgevoerd (d.w.z. er is een
                politieagent die de plaats bezoekt).
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        step:confirmAddressChange cost:usersatifaction 0.97;
                                                                     cost:monetaryCost 0;
                                                                     cost:success 0.98;
                                                                     cost:duration 20160.
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 4: cost beschrijving.
                </figcaption>
            </figure>
        </div>
        <div class="h3_alinea">
            <h2 class="h3">User information</h2>
            <p>
                Een andere belangrijke component voor het planningsproces is de informatie over gebruikers
                die in aanmerking wordt genomen voor workflow personalisatie, d.w.z. optimale stappen en stap
                volgorde per gebruiker. In de context van het FAST-project wordt ervan uitgegaan dat dergelijke informatie
                zich bevindt op een vertrouwde locatie, bijvoorbeeld in de MijnBurgerprofiel database die wordt onderhouden door
                de Vlaamse overheid.
            </p>
            <br/>
            <p>
                Bovendien kan de gebruikersinformatie worden gebruikt om te bepalen in welke toestand de gebruikers zich bevinden,
                d.w.z. welke informatie al is verstrekt en dus welke stappen niet nodig zijn om
                uit te voeren. Voorbeeld 5 toont informatie van een gebruiker. Waar mogelijk gebruiken we bestaande
                vocabularia zoals <a href="http://xmlns.com/foaf/spec/">foaf</a> of <a href="https://schema.org/">schema.org </a>. In het voorbeeld hebben we al de
                naam, het rijksregisternummer en het mobiele nummer van de gebruiker en kunnen we dus de stappen achterwege laten die nodig zijn om die informatie te verkrijgen.
            </p>
            <br/>
            <p>
                In het bovenstaande voorbeeld is de step:confirmAddressChange
                nooit nodig als het profiel van de gebruiker al de informatie bevat dat de
                adreswijziging door de politie is bevestigd.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        :bob a o-persoon:Inwoner;
                                foaf:familyName "Doe";
                                foaf:givenName "Bob";
                                ex:nationalNumber 123456;
                                schema:contactPoint [ schema:contactType "gsm";
                                                                     schema:telephone 8888888 ].
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 5: user information.
                </figcaption>
            </figure>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">Internal steps representation (N3)</h2>
            <p>
                Om workflows samen te stellen, vertrouwen we op een intern representatieformaat. Dit
                representatieformaat maakt gebruik van <a href="https://www.w3.org/TeamSubmission/n3/">Notation3 Logic (N3)</a> 
                een uitbreiding van het <a href="https://www.w3.org/TR/turtle/">RDF turtle</a> formaat dat werd gebruikt voor OSLO-STEPS. N3 laat de gebruiker toe om grafieken te citeren, 
                logische regels te schrijven en verschillende ingebouwde functies te gebruiken om bijvoorbeeld
                getallen te berekenen of strings te bewerken. N3 is ook de taal waarin de
                workflow composer zelf is geschreven, waardoor het formaat een natuurlijke keuze is om mogelijke stappen in workflows weer te geven. 
                We hebben er echter voor gekozen om een alternatief dataformaat (OSLO-STEPS) te introduceren om de stappen van een workflow in dit project weer te geven.
                Dit heeft twee redenen: ten eerste wilden we een formaat dat zo dicht mogelijk
                ligt bij de andere formaten die in het OSLO project zijn ontworpen, zodat gebruikers die
                aan deze andere standaarden voldoen zich gemakkelijk kunnen aanpassen. Ten tweede wilden we geen gebruik maken van een
                syntax die geen standaard is (N3 logic is geen W3C-aanbeveling maar slechts een mogelijke
                kandidaat) omdat - op basis van onze ervaring - dat potentiële gebruikers ervan kan weerhouden
                de specificatie daadwerkelijk te gebruiken. Zoals we later zullen uitleggen, kunnen OSLO-stappen automatisch worden vertaald naar ons interne formaat, zodat iedere
                potentiële gebruiker vrij kan kiezen welk formaat hij of zij wil gebruiken om
                mogelijke stappen van workflows te beschrijven. In deze sectie introduceren we ons interne
                representatieformaat, in de volgende sectie werken we verder uit hoe de vertaling
                tussen de formaten wordt gedaan.
            </p>
            <br/>
            <p>
                De step description in ons intern formaat gebeurt met behulp van een backward-rule. In N3 kunnen we
                kunnen we regels stellen die inwerken op gekoppelde gegevens. Deze regels kunnen ofwel worden opgegeven als een
                forward-rule (met behulp van de pijl "=&gt;") of ze kunnen als een backward-rule regel (met behulp van
                "&lt;="). Vanuit een theoretisch perspectief hebben beide soorten regels dezelfde
                betekenis, namelijk een logische implicatie, maar vanuit procedureel oogpunt
                verschillen ze: <a href="http://eulersharp.sourceforge.net/">De EYE reasoner</a> die we gebruikten in onze implementatie past forward
                reasoning toe wanneer een regel op een forward-rule wordt gesteld en backward reasoning wanneer
                we een backward-rule hebben.
            </p>
            <br/>
            <p>
                In de praktijk betekent dat, dat foward-rules worden toegepast op de initiële kennis tot een
                bepaald doel is bereikt, terwijl backward-rules uitgaan van het doel en dit proberen te verifiëren op basis van
                regels en feiten. In de context van onze workflow engine die zich bezighoudt met het wijzigen van gegevens,
                moet bovendien worden vermeld, dat bij het toepassen van forward reasoning, tussentijdse
                resultaten intern worden opgeslagen.                             
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        {
                            Map​ gps:description (
                                                            From-part
                                                            Transition-part
                                                            To-part
                                                            Step name
                                                            Weights
                                                            )
                        }
                        &lt;={​Where-part​}.
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 6: Schematisch overzicht van ons step description formaat.
                </figcaption>
            </figure>
            <p>
                Dit is ook de reden waarom onze workflow composer alleen gebruik maakt van backward-rules. 
                De composer probeert een weg te vinden naar een vooraf gedefinieerd doel. Tijdens dat proces,
                kunnen gegevens veranderen en met deze veranderingen kunnen ook de gevolgen van gegevens ongeldig worden.
                Een step description in ons interne formaat bestaat uit verschillende onderdelen die ook
                weergegeven worden in voorbeeld 6. Hieronder bespreken we de betekenis van deze verschillende onderdelen: 
            </p>
            <br/>
            <p>
                <strong>Map:</strong> Naam van de map waartoe de stap behoort. We verdelen onze step descriptions in
                verschillende sets die "maps" worden genoemd. Deze verdeling in maps is nodig omdat regels
                uit verschillende bronnen komen en hetzelfde vocabularium verschillend gebruiken (zelfs als
                standaardisatie inspanningen zoals OSLO dat proberen te voorkomen). Het benoemen van de overeenkomstige map
                samen met een step description helpt ons om onbedoelde interactie te controleren tussen
                stappen uit verschillende maps.
            </p>
            <br/>
            <p>
                <strong>Step name:</strong> Voor elke stap beschrijven we welke gegevens ongeldig worden door de uitvoering van
                de stap. Deze gegevens worden uitgedrukt door middel van triples en omgeven door accolades {}. 
                Het kan variabelen bevatten (beginnend met vraagtekens ?), maar alle variabelen
                die het bevat, moeten ook aanwezig zijn in het Where-gedeelte van de beschrijving. Dit heeft
                technische redenen, maar omdat alle gegevens die verwijderd kunnen worden ook geldig moeten zijn,
                legt dit geen beperkingen op aan de uitdrukking. 
            </p>
            <br/>
            <p>
                <strong>Between-part:</strong> Omdat onze stappen een tijdsduur hebben, kan het belangrijk zijn om te weten wat
                er gebeurt met onze gegevens nadat de uitvoering van een stap is begonnen en voordat de
                uitvoering is voltooid. Dit wordt uitgedrukt in het Between-part van de beschrijving. Dit
                Between-part bevat triples en heeft syntactisch gezien precies
                dezelfde beperkingen als het From-part. Als we nieuwe variabelen willen gebruiken in dat deel van de
                beschrijving, moeten deze worden gedeclareerd in het Where-part van de beschrijving.            
            </p>
            <br/>
            <p>
                <strong>To-part:</strong> Voor elke stap beschrijven we de situatie die de uitvoering van de stap veroorzaakt.
                Dezelfde syntactische eisen die we stelden aan het Between-part van de step description zijn ook hier van toepassing.  
            </p>            
            <br/>
            <p>
                <strong>Where-part:</strong> Voor elke stap beschrijven we de voorwaarde waaronder de stap kan worden
                uitgevoerd. Dit deel van de beschrijving kan ook gebruikt worden om berekeningen uit te voeren (als de stap
                een waarde verandert of manipuleert, kan het zijn dat de nieuwe waarde afhangt van de oude
                waarde, hier moeten we vervolgens berekeningen uitvoeren). Om technische redenen (backward-rules kunnen geen
                nieuwe variabelen bevatten in hun vervolg) moet dit deel ook worden gebruikt om 
                variabelen te declareren die alleen worden gebruikt in het To- of in het Between-part van de
                beschrijving. Voor deze variabelen moet een Skolem-variabele worden aangemaakt. Dat is een unieke URI
                die een bron vertegenwoordigt. Zoals we hieronder zullen bespreken, kan de reasoner die we gebruiken
                dit automatisch doen.                 
            </p>
            <br/>
            <p>
                <strong>Weights:</strong> De gewichten van een stap in ons interne formaat zijn analoog aan
                de cost zoals weergegeven in OSLO-STEPS. Elke stap kan verschillende soorten
                gewichten hebben, zoals bijvoorbeeld de monetaire cost van de uitvoering of het verwachte
                succespercentage. Gewichten die met ons interne formaat aan een stap worden toegekend moeten
                aggregeerbaar zijn, d.w.z. er moet een methode zijn waarmee een totale waarde voor een
                samengestelde workflow kan worden berekend door gebruik te maken van de singleton waarden van de
                verschillende stappen.
            </p>
            <br/>
            <p>
                Hieronder, in voorbeeld 7, geven we de beschrijving van de stap
                step:confirmAddressChange die we hierboven ook besproken hebben met behulp van het
                OSLO-STEPS vocabularium. Het From-part en het Betwen-part zijn leeg. De
                vereiste status wordt weergegeven in het Where-part van de beschrijving. De adres
                verandering moet worden aangegeven. Bovendien hebben we een triple dat de
                aanvrager van de adreswijziging een burger (inwoner) moet zijn. De reden daarvoor
                is dat alle gegevens die wij over een persoon in onze workflows willen toevoegen, gerelateerd 
                moet zijn aan dezelfde instantie. We hebben dus de unieke URI van de burger nodig. 
                In het To-part van het voorbeeld, zien we de bekomen status. De adreswijziging is
                bevestigd door de politie.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        {ex:movemap gps:description
                            (                                                   
                            {}                                      #From
                            {}                                      #Between

                            {?x ex:confirmationOfAddressChange true}        #To
                            step:confirmAddressChange                       #Step name
                            20160                                 #Duration
                            0                                        #Monetary cost
                            0.98                                   #Success
                            0.97                                   #User satisfaction
                            )
                        }
                        &#x3C;=
                        {
                            ?x a o-persoon:Inwoner.
                            ?x ex:addressChangeDeclared true
                        }.                                          #Where

                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 7: Beschrijving van de stap “confirmation of address change” met het N3 formaat.
                </figcaption>
            </figure>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">OSLO-STEPS als beschrijvende logische regels</h2>
            <p>
                Zoals hierboven beschreven, hebben we een intern formaat waarop we onze workflow composition baseren
                - dit formaat is gebaseerd op N3 - en we hebben het OSLO-STEPS vocabularium dat is
                ontworpen is om zeer dicht bij bestaande OSLO vocabularia te staan. Zodat gebruikers die
                deze normen al kennen geen problemen ondervinden om regels te creëren. Om van
                de ene representatie naar de andere te gedaan, hebben we regels gedefinieerd. Hieronder leggen we uit hoe deze regels
                in detail werken.
            </p>
            <br/>
            <p>
                Zoals hierboven uitgelegd, geven we met OSLO-STEPS voor elke stap de vereiste en de
                geproduceerde state en voor deze states hebben we shapes. Voor onze implementatie moeten we
                deze shapes voor elke stap vinden en vertalen van SHACL naar onze pattern
                representatie. We hebben verschillende regels geschreven voor verschillende SHACL constructies. We
                illustreren dit op shapes die aangeven dat er een waarde moet bestaan. Dit wordt normaal gezien
                aangegeven door het predicaat sh:mincount (zie ook voorbeeld 3). Als voor een pad (sh:path) een
                sh:mincount waarde van 1 is gegeven, betekent dit dat het doel waarvoor de shape
                gedefinieerd is, altijd ten minste één waarde moet hebben die ermee verbonden is via het predicaat
                dat achter sh:path staat. De shape in voorbeeld 3 stelt bijvoorbeeld dat voor
                elke burger (o-persoon:inwoner) er een waarde moet zijn voor
                ex:addressChangeDeclared. Deze shape is nog explicieter, de waarde moet
                true zijn (dit wordt aangegeven door het predicaat sh:hasValue). We verwachten een triple van de
                vorm:
            </p>
            <br/>
            <p class="center_p"><strong>x ex:addressChangeDeclared true</strong></p>
            <br/>
            <p>
                Om het bovenstaande pattern te produceren op basis van de shape die wordt weergegeven in voorbeeld 3, gebruiken we
                een regel die dergelijke shape descriptions detecteert en
                het bovengenoemde pattern produceert. We tonen de regel voor dat specifieke patroon
                in voorbeeld 8. Naast de toewijzing van een concrete waarde voor een predicaat, ondersteunt onze
                implementatie ook geneste paden (d.w.z. als we twee predicaten hebben die
                het target met een node verbinden) en 'qualified value shapes'. We zijn van plan om ons
                mechanisme voor het creëren van patronen in de toekomst verder te ontwikkelen.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        {
                            ?stateShape a o-steps:StateShape;
                                sh:property ?property;
                                sh:targetClass o-persoon:Inwoner .
                            ?property sh:path ?path;
                                             sh:value ?value;
                                             sh:minCount 1.
                            }
                            =&gt;
                            {
                            ?stateShape :pattern {var:x ?path ?value} .
                            }.
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 8: (Versimpelde) regel om een pattern te produceren gebaseeerd op een shape description.
                </figcaption>
            </figure>
            <p>
                In de beschrijving in voorbeeld 7 waar de adreswijziging wordt gedeclareerd, is het dezelfde
                instantie waarvoor de adreswijziging wordt bevestigd. We moeten dus intern
                het doel van de shape weergeven als een constante die later zal moeten worden
                vervangen door een variabele.
            </p>
            <br/>
            <p>
                Na het toewijzen van het verwachte pattern aan elke shape, vindt onze vertaling voor elke
                step description alle states die verbonden zijn met de vereiste state en alle shapes
                die verbonden zijn met de geproduceerde shapes. Bovendien houdt het rekening met alle gedeclareerde
                costs. De bekomen shapes worden vertaald naar het To-part van het internal step representation formaat. 
                De vereiste shapes worden vertaald naar het Where-part van
                de step description, omdat er in onze use cases geen acties zijn die gegevens
                ongeldig maken (dit kan veranderen als we meer complexe use cases krijgen). Aan het Where-part van
                het internal representation format, voegen we een triple toe dat het doel (of doelen) verklaart
                voor de gebruikte shapes - in ons geval worden alle shapes gedeclareerd voor instanties van de klasse
                o-persoon:Inwoner - en waar nodig voegen we functies toe die nieuwe URI's creëren voor
                elke variabele die wordt gebruikt in het To-part van de step description, maar niet in het
                Where-part. Dit heeft technische redenen: omdat backward-rules geen nieuwe
                variabelen in hun vervolg kunnen hebben, moeten we dit mechanisme gebruiken.
            </p>
            <br/>
            <p>
                De vertaalregels worden uitgevoerd door de EYE reasoner waarmee we ook
                variabelen kunnen produceren voor alle instanties in onze var-namespace. Uit de verschillende
                beschrijvingen in voorbeelden 1-4 met aanvullende beschrijvingen van de bekomen state, produceren we bijvoorbeeld
                de regel die wordt weergegeven in voorbeeld 8.
            </p>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">Goals</h2>
            <p>
                Naast de beschrijving van de verschillende mogelijke stappen in ons interne formaat en de
                beschrijving van de huidige situatie zoals geïllustreerd in voorbeeld 5, hebben we nog één
                iets nodig om ons workflow composition process te starten. We moeten het doel (of goal) aangeven
                dat we willen bekomen van de workflow.
            </p>
            <br/>
            <p>
                We tonen een voorbeeld van zo'n goal declaratie in voorbeeld 9. Elke goal beschrijving
                bevat de state die we willen bereiken door de workflow uit te voeren (hier moet de adres
                wijziging worden bevestigd) samen met de limieten voor elk gewicht. Hier willen we
                meer dan 4 weken aan het proces besteden, we willen niet meer dan 20
                euro uitgeven, we willen een succespercentage van ten minste 80% over de ganse workflow en de
                gebruikerstevredenheid mag niet onder 0,8 komen.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        {
                            ?SCOPE gps:findpath
                                (
                                    {?x ex:confirmationOfAddressChange true.}
                                    ?PATH
                                    ?DURATION
                                    ?MONETARYCOST
                                    ?SUCCESS
                                    ?SATISFACTION
                                    (
                                    40320 #Limit for duration (4 weeks)
                                    20 # Limit for monetary costs
                                    0.8 # Limit for success rate
                                    0.8 # limit for user satisfaction
                                    )
                                ).
                            } =&gt; {
                                    ?x gps:path (?PATH
                                                        ?DURATION
                                                        ?MONETARYCOST
                                                        ?SUCCESS
                                                        ?SATISFACTION).
                            }.
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 9: Voorbeeld van een goal
                </figcaption>
            </figure>
            <p>
                Om technische redenen verklaren wij dergelijke limieten voor elke workflow. Aangezien onze
                workflow composition elke mogelijke workflow produceert die het doel bereikt en
                er veel van zulke workflows kunnen zijn, beperken we de mogelijkheden door zulke
                limieten. Dit maakt het niet alleen gemakkelijker om de workflow te produceren, het maakt het ook
                makkelijker voor de andere vereisten die afhankelijk zijn van de workflow composition om te kiezen uit de
                aangeboden workflows.
            </p>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">Workflow composition</h2>
            <p>
                Onze workflow composition neemt nu de beschrijving van de beginsituatie (zoals
                in voorbeeld 5), de verschillende step descriptions m.b.v. ons interne formaat
                (voorbeeld 7) en het te bereiken doel (zoals in voorbeeld 9) in aanmerking. De workflow kan
                bovendien gebruik maken van externe regels die in een backward-rule manier gedefinieerd moeten worden.
            </p>
            <br/>
            <p>
                Uitgaande van de huidige situatie, produceert de composer  alle mogelijke paden naar
                het doel die binnen de gestelde limieten vallen. Voor elk pad dat de composer genereert,
                worden de werkelijke costs berekend. Voor monetaire costs en duur wordt de som van alle
                opgenomen stappen berekend, voor succes en comfort nemen we het product van alle costs.                
            </p>
            <br/>
            <p>
                In voorbeeld 10 zien we de uitvoer van zo'n composition process. Om
                een adreswijziging te laten bevestigen, moet de gebruiker persoonlijke
                informatie meegeven, informatie over de verhuizing, zijn nieuwe adres en moet hij
                een adreswijziging aanvragen die vervolgens door de politie moet worden bevestigd.
            </p>
            <br/>
            <p>
                In ons voorbeeld hebben we geen alternatieve paden. Dit is omdat we het voorbeeld
                voor dit document eenvoudig wilden houden. Daarom zijn alle paden
                slechts permutaties van elkaar. De laatste stap, de bevestiging van de adreswijziging
                komt altijd na de verklaring. Dat komt omdat deze stappen afhankelijk zijn van
                elkaar.
            </p>
            <br/>
            <p>
                Naast elk pad worden ook de verschillende costs weergegeven. Gebaseerd op de voorkeuren van
                de gebruiker, kunnen verschillende paden worden gekozen op basis van de cijfers. Afhankelijk van de
                beschikbare informatie kan het ook zijn dat sommige workflows korter zijn voor bepaalde
                gebruikers. Als we daadwerkelijk een workflow samenstellen, rekening houdend met de informatie in voorbeeld 4, 
                kunnen we bijvoorbeeld verwachten dat de samengestelde workflow geen stap zal bevatten 
                waarin om persoonlijke informatie wordt gevraagd. Omdat deze informatie in dat geval al beschikbaar is
                in de database.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        :bob gps:path (
                                        (step:providePersonalInformation
                                        step:provideMovingData
                                        step:requestAddressChange
                                        step:confirmAddressChange
                                        )
                                        30160
                                        4.0
                                        0.88
                                        0.88
                                    ).
                        :bob gps:path (
                                        (step:provideMovingData
                                        step:providePersonalInformation
                                        step:requestAddressChange
                                        step:confirmAddressChange
                                        )
                                        30160
                                        4.0
                                        0.88
                                        0.88
                                    ).
                        :bob gps:path (
                                        (step:provideMovingData
                                        step:providePersonalInformation
                                        step:requestAddressChange
                                        step:confirmAddressChange
                                        )
                                        30160
                                        4.0
                                        0.88
                                        0.88
                                    ).
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 10: output van een path composition.
                </figcaption>
            </figure>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">Conclusie</h2>
            <p>
                We hebben uitgelegd hoe OSLO-STEPS wordt gebruikt om stappen en hun workflows te beschrijven. 
                Door step descriptions te ontkoppelen van state en shape beschrijvingen zorgen we ervoor dat deze laatste 
                kunnen worden hergebruikt voor andere beschrijvingen.
            </p>
            <br/>
            <p>
                Verder hebben we laten zien, hoe OSLO-STEPS kan worden vertaald in ons interne
                formaat. Door gebruik te maken van linked data en het semantisch web, hielden we ook onze
                implementatie open voor verschillende standaarden die op dezelfde manier kunnen worden gebruikt en gemakkelijk
                vertaald kunnen worden als ze dezelfde soort informatie bevatten.            
            </p>
            <br/>
            <p>
                Als laatste stap, hebben we kort uitgelegd hoe de workflow composition wordt gemaakt. 
                Hier gebruiken we backwards reasoning in Notation3 Logic en de EYE
                reasoner. Wat nog toegevoegd zou kunnen worden aan onze formalisatie is een format om doelen en
                workflow alternatieven te creëren op een manier die compatibel is met OSLO-STEPS. Dit is iets wat we van plan zijn in de toekomst.
            </p>
        </div>
    </div>
    <div class="next">
        <a class="button" href="./rdf_workflow_description.html">Volgende: RDF Workflow Beschrijving</a>
    </div>
</main>

<style>
    .equal-height {
        height: 100%;
        justify-content: normal;
    }

    figure.img {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top:  30px;
        margin-bottom: 30px;
        width: 50%;
    }

    figure.listing {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top:  30px;
        margin-bottom: 30px;
        width: 70%;
        text-align: center;
    }

    figcaption {
        text-align: center;
    }

    h1 {
        margin-top: 20px;
        text-align: center;
    }

    .h2_alinea {
        margin-bottom: 10px;
    }

    .h3_alinea {
        margin-bottom: 10px;
    }

    .center_p {
        text-align: center;
    }

    .nav_bar {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        text-align: center;
    }

    .nav_bar li {
        display: inline-block;
    }

    .next {
        text-align: center;
        margin-bottom: 30px;
    }

    pre {
        text-align: left;
        overflow: auto;
        font-weight:bold;
        height: fit-content;
    }

    pre.background { 
        background-color: #ECF0F1; 
        height:auto;
    }
</style>

<script>
    function goBack() {
        window.history.back();
    }

    function toggle(elementID) {
        const element = document.getElementById(elementID);
        if (element.classList.contains('js-accordion--open')) {
            element.classList.remove('js-accordion--open');
        } else {
            element.classList.add('js-accordion--open');
        }
    }
</script>
</body>
</html>