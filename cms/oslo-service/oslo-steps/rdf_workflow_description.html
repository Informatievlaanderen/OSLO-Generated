<!DOCTYPE html>
<html lang="en">
<head>
    <title>FAST| OSLO-STEPS</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://dij151upo6vad.cloudfront.net/2.latest/css/vlaanderen-ui.css"/>
    <link rel="stylesheet" href="https://dij151upo6vad.cloudfront.net/2.latest/css/vlaanderen-ui-corporate.css"/>

    <link rel="icon" sizes="192x192"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/icon-highres-precomposed.png">
    <link rel="apple-touch-icon"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-iphone-precomposed.png">
    <link rel="apple-touch-icon" sizes="76x76"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-ipad-precomposed.png">
    <link rel="apple-touch-icon" sizes="120x120"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-iphone-retina-precomposed.png">
    <link rel="apple-touch-icon" sizes="152x152"
          href="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/touch-icon-ipad-retina-precomposed.png">

    <meta name="msapplication-square70x70logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-small.png"/>
    <meta name="msapplication-square150x150logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-medium.png"/>
    <meta name="msapplication-wide310x150logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-wide.png"/>
    <meta name="msapplication-square310x310logo"
          content="https://dij151upo6vad.cloudfront.net/2.latest/icons/app-icon/tile-large.png"/>
    <meta name="msapplication-TileColor" content="#FFE615"/>
    <!-- HTML icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

<header class="content-header content-header--small content-header--half-image u-spacer--large">
    <div class="content-header__wrapper">
        <picture class="content-header__bg">
            <img sizes="50vw" src="//www.vlaanderen.be/sites/default/files/ip_acm/page_banner_wide_alt/header.jpg"
                 srcset="//www.vlaanderen.be/sites/default/files/ip_acm/page_banner_mobile_alt/header.jpg 320w, //www.vlaanderen.be/sites/default/files/ip_acm/page_banner_narrow/header.jpg 1024w, //www.vlaanderen.be/sites/default/files/ip_acm/page_banner_wide_alt/header.jpg 1600w"
                 alt="" title="">
        </picture>
        <div class="layout layout--wide">
            <div class="content-header__content">
                <div class="content-header__logo-wrapper">
                    <a href="../oslo-services.html" class="content-header__entity-logo">
                        <span class="content-header__entity-logo__prefix">OSLO Service</span>
                        <span class="content-header__entity-logo__title">FAST - OSLO-STEPS</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</header>

<main>
    <div class="layout layout--wide">
        <ul class="nav_bar">
            <li><a class="button" href="./intro.html">Intro</a></li>
            <li><a class="button" href="./overview.html">Overzicht OSLO-STEPS</a></li>
            <li><a class="button" href="./domain_model.html">Domein Model</a></li>
            <li><a class="button" href="./linked_sources_overview.html">Overzicht Linked Sources</a></li>
            <li><a class="button" href="./rdf_workflow_description.html">RDF Workflow Beschrijving</a></li>
        </ul>

        <h1 class="h1"> Beschrijving van RDF workflow modellen voor verschillende levensgebeurtenissen</h1>
        <div class="h2_alinea">
            <h2 class="h2">1. Introductie</h2>
            <p>
                We leggen uit hoe de OSLO-STEPS beschrijvingen en composition
                methoden -- geïntroduceerd <a href="./linked_sources_overview.html">hier</a> -- zijn toegepast op en beïnvloed door
                de concrete gebruikssituaties van het project. In het bijzonder, hoe de concrete paden en steps
                kunnen worden vertaald naar het OSLO-STEPS formaat, welke aanpassingen
                we hebben aangebracht aan de Semantic Workflow Processor (SWP) om schaalbaarheid te verzekeren, en hoe we gebruikersfeedback hebben toegevoegd aan de SWP API.
            </p>
        </div>
        <div class="h2_alinea">
            <h2 class="h2">2. Vertaal procedures naar OSLO-STEPS</h2>
            <p>
                In het project beschrijven we de use case "registreren in een nieuwe gemeente". Een onderdeel
                van die use case is de aangifte van het nieuwe adres. Als showcase wordt een bestaand
                online formulier: <a href="https://eloket.antwerpen.be/nl/eloket/aangifte-adreswijziging-v3/">Wijzig adres Antwerpen</a> 
                handmatig vertaald naar OSLO-STEPS. Een snippet is te vinden in Voorbeeld 1, 2, en 3,
                waar de OSLO-STEPS beschrijvingen zijn opgesplitst in steps, states, en shapes.
            </p>
            <figure class="listing">
                <pre class="background">
                    <code>
                        @prefix​ o-steps​ : &lt;​<a href="https://fast.ilabt.imec.be/ns/oslo-steps#">https://fast.ilabt.imec.be/ns/oslo-steps#</a>&gt;​ .
                        @prefix​ xl​ : &lt;​<a href="http​://www.w3.org/2008/05/skos-xl#">http​://www.w3.org/2008/05/skos-xl#</a>&gt;​ .
                        @prefix​ state​ : &lt;<a href="https​://fast.ilabt.imec.be/api/v5/states#">https​://fast.ilabt.imec.be/api/v5/states#</a>&gt;​ .
                        @prefix​ step​ : &lt;​<a href="https​://fast.ilabt.imec.be/api/v5/steps#">https​://fast.ilabt.imec.be/api/v5/steps#</a>&gt;​ .
                        
                        <span class="code_comment"># Journey level steps: collect address changed data, and declare it</span>

                        step​ :collectAddressChangeData a ​ o-steps​ :JourneyLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Data adreswijziging"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :citizenNationalNumber, ​ state​ :streetname,
                                                                   state​ :postcode, ​ state​ :streetNumber, ​ [...] ​ ,
                                                                   state​ :citizenEmailAddress .

                        step​ :declareAddressChange a ​ o-steps​ :JourneyLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Aangifte adreswijziging"​ @nl​ ] ;
                            o-steps​ :requiresState ​ state​ :citizenNationalNumber, ​ state​ :streetname,
                                                                 state​ :postcode, ​ state​ :streetNumber, ​ [...] ​ ,
                                                                 state​ :citizenEmailAddress ;
                            o-steps​ :producesState ​ state​ :addressChangeDeclared .

                        <span class="code_comment"># Container level steps: provide personal data, new address, and contact info</span>
                        
                        step​ :providePersonalData a ​ o-steps​ :ContainerLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Verstrek persoonlijke gegevens"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :citizenNationalNumber .
                        
                            step​ :provideNewAddress a ​ o-steps​ :ContainerLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Nieuw adres"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :streetname, ​ state​ :postcode, ​ state​ :streetNumber.
                        
                        step​ :provideContactInfo a ​ o-steps​ :ContainerLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Contactgegevens"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :citizenEmailAddress .

                        <span class="code_comment"># Component level steps: provide national number, street name, etc.</span>

                        step​ :provideCitizenNationalNumberManually a ​ o-steps​ :ComponentLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Rijksregister inwoner"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :citizenNationalNumber .

                        step​ :provideStreetName a ​ o-steps​ :ComponentLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Straat"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :streetname .

                        step​ :providePostCode a ​ o-steps​ :ComponentLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Postcode"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :postcode .

                        step​ :provideStreetNumber a ​ o-steps​ :ComponentLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "Huisnummer"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :streetNumber .

                        step​ :provideEmail a ​ o-steps​ :ComponentLevelStep ;
                            o-steps​ :hasDescription [ ​ xl​ :literalForm ​ "e-mail"​ @nl​ ] ;
                            o-steps​ :requiresState ​ o-steps​ :emptyState ;
                            o-steps​ :producesState ​ state​ :citizenEmailAddress .
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 1: een snippet van OSLO-STEPS step descriptions voor het veranderen van je adres
                </figcaption>
            </figure>
            <figure class="listing">
                <pre class="background">
                    <code>
                        @prefix​ o-steps​ : &lt;​<a href="https://fast.ilabt.imec.be/ns/oslo-steps#">https://fast.ilabt.imec.be/ns/oslo-steps#</a>&gt;​ .
                        @prefix​ xl​ : &lt;​<a href="http​://www.w3.org/2008/05/skos-xl#">http​://www.w3.org/2008/05/skos-xl#</a>&gt;​ .
                        @prefix​ state​ : &lt;<a href="https​://fast.ilabt.imec.be/api/v5/states#">https​://fast.ilabt.imec.be/api/v5/states#</a>&gt;​ .
                        @prefix​ step​ : &lt;​<a href="https​://fast.ilabt.imec.be/api/v5/steps#">https​://fast.ilabt.imec.be/api/v5/steps#</a>&gt;​ .

                        state​ :citizenEmailAddress a ​ o-steps​ :State ;
                            rdfs​ :label ​ "Inwoner email address"​ @nl​ ;
                            o-steps​ :hasStateShape ​ shape​ :emailAddressShape .
                        
                        state​ :streetname a ​ o-steps​ :State ;
                            rdfs​ :label ​ "Straat"​ @nl​ ;
                            o-steps​ :hasStateShape ​ shape​ :citizenNewAddressStreetShape .
                        
                        state​ :postcode a ​ o-steps​ :State ;
                            rdfs​ :label ​ "Postcode"​ @nl​ ;
                            o-steps​ :hasStateShape ​ shape​ :citizenNewAddressPostCodeShape .
                        
                        state​ :streetNumber a ​ o-steps​ :State ;
                            rdfs​ :label ​ "Huisnumer"​ @nl​ ;
                            o-steps​ :hasStateShape ​ shape​ :citizenNewAddressStreetNumberShape .
                        
                        state​ :citizenNationalNumber a ​ o-steps​ :State;
                            rdfs​ :label ​ "Inwoner Rijksregisternummer"​ @nl​ ;
                            o-steps​ :hasStateShape ​ shape​ :nationalNumberBelgiumShape .
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 2: een snipet van  OSLO-STEPS state descriptions voor het veranderen van je adres               
                </figcaption>
            </figure>
            <figure class="listing">
                <pre class="background">
                    <code>
                        @prefix​ o-steps​ : &lt;​<a href="https://fast.ilabt.imec.be/ns/oslo-steps#">https://fast.ilabt.imec.be/ns/oslo-steps#</a>&gt;​ .
                        @prefix rdfs​ : &lt;<a href="​http​://www.w3.org/2000/01/rdf-schema#">http​://www.w3.org/2000/01/rdf-schema#</a>&gt;​ .
                        @prefix ex​ : &lt;<a href="​http​://example.org/ns/example#">http​://example.org/ns/example#</a>&gt;​ .
                        @prefix locn​ : &lt;​<a href="http​://www.w3.org/ns/locn#">http​://www.w3.org/ns/locn#</a>&gt;​ .

                        @prefix​ ​ shape​ : &lt;​<a href="https​://fast.ilabt.imec.be/api/v5/shapes#">https​://fast.ilabt.imec.be/api/v5/shapes#</a>&gt;​ .

                        <span class="code_comment"># Shapes</span>
                        <span class="code_comment">## E-mail</span>

                        shape​ :emailAddressShape a ​ o-steps​ :StateShape ;
                            rdfs​ :label ​ "A citizen's email"​ @en​ ;
                            sh​ :targetClass ​ o-persoon​ :Inwoner ;
                            sh​ :property ​ shape​ :emailPattern .

                        shape​ :emailPattern a ​ sh​ :PropertyShape ;
                            rdfs​ :label ​ "Valid email address"​ @en​ ;
                            sh​ :path ​ schema​ :email ;
                            sh​ :datatype ​ xsd​ :string ;
                            sh​ :pattern ​ "^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$"​ ;
                            sh​ :minCount ​ 1 ​ .

                        <span class="code_comment">## Street name</span>

                        shape​ :citizenNewAddressStreetShape a ​ o-steps​ :StateShape ;
                            rdfs​ :label ​ "Street of new address"​ @en​ ;
                            sh​ :targetClass ​ o-persoon​ :Inwoner ;
                            sh​ :property ​ shape​ :newStreet .

                        shape​ :newStreet a ​ sh​ :PropertyShape ;
                            rdfs​ :label ​ "Street of new address"​ @en​ ;
                            sh​ :path (​ ex​ :newAddress ​ locn​ :thoroughfare) ;
                            sh​ :minLength ​ 2 ​ ; ​ sh​ :maxLength ​ 100​ ;
                            sh​ :datatype ​ xsd​ :string ;
                            sh​ :maxCount ​ 1 ​ ; ​ sh​ :minCount ​ 1 ​ .

                        <span class="code_comment">## Postcode</span>

                        shape​ :citizenNewAddressPostCodeShape a ​ o-steps​ :StateShape ;
                            rdfs​ :label ​ "Postcode of new address"​ @en​ ;
                            rdfs​ :comment ​ "Postcode of new address"​ @en​ ;
                            sh​ :targetClass ​ o-persoon​ :Inwoner ;
                            sh​ :property ​ shape​ :newPostcode .

                        shape​ :newPostcode a ​ sh​ :PropertyShape ;
                            rdfs​ :label ​ "Postcode of new address"​ @en​ ;
                            rdfs​ :comment ​ "Postcode of new address"​ @en​ ;
                            sh​ :path (​ ex​ :newAddress ​ locn​ :postCode) ;
                            sh​ :minLength ​ 4 ​ ; ​ sh​ :maxLength ​ 4 ​ ;
                            sh​ :datatype ​ xsd​ :string ;
                            sh​ :maxCount ​ 1 ​ ; ​ sh​ :minCount ​ 1 ​ .
                        
                        <span class="code_comment">## Street number</span>

                        shape​ :citizenNewAddressStreetNumberShape a ​ o-steps​ :StateShape ;
                            rdfs​ :label ​ "Street number of new address"​ @en​ ;
                            rdfs​ :comment ​ "Street number of new address"​ @en​ ;
                            sh​ :targetClass ​ o-persoon​ :Inwoner ;
                            sh​ :property ​ shape​ :newStreetnumber .

                        shape​ :newStreetnumber a ​ sh​ :PropertyShape ;
                            rdfs​ :label ​ "Street number of new address"​ @en​ ;
                            rdfs​ :comment ​ "Street number of new address"​ @en​ ;
                            sh​ :path (​ ex​ :newAddress &lt;​ https​ : ​ //data.vlaanderen.be/ns/adres#huisnummer&gt;​ ) ;
                            sh​ :minLength ​ 1 ​ ; ​ sh​ :maxLength ​ 5 ​ ;
                            sh​ :datatype ​ xsd​ :string ;
                            sh​ :maxCount ​ 1 ​ ; ​ sh​ :minCount ​ 1 ​ .
                            
                        <span class="code_comment">## National number</span>
                        
                        shape​ :nationalNumberBelgiumShape a ​ o-steps​ :StateShape ;
                            rdfs​ :label ​ "Householder national number"​ @en​ ;
                            rdfs​ :comment ​ "User with valid Belgian national number"​ @en​ ;
                            sh​ :targetClass ​ o-persoon​ :Inwoner ;
                            sh​ :property ​ shape​ :nationalNumberPatternBelgium ;
                            sh​ :property ​ shape​ :nationalNumberObliged .

                        shape​ :nationalNumberObliged a ​ sh​ :PropertyShape ;
                            rdfs​ :label ​ "Obliged national number"​ @en​ ;
                            rdfs​ :comment ​ "There can be exactly one national number"​ @en​ ;
                            sh​ :path ​ o-persoon​ :registratie ;
                            sh​ :datatype ​ xsd​ :string ;
                            sh​ :pattern ​ "^[0-9]{2}[.\\- ]{0,1}[0-9]{2}[.\\- ]{0,1}[0-9]{2}[.\\- ]{0,1}[0-9]{3}[.\\-]{0,1}[0-9]{2}$"​ ;
                            sh​ :minCount ​ 1 ​ ; ​ sh​ :maxCount ​ 1 ​ .
                    </code>
                </pre>
                <figcaption>
                    Voorbeeld 3: een snippet van OSLO-STEPS shape descriptions voor het veranderen van je adres                
                </figcaption>
            </figure>
            <p>
                Om samen te vatten: stappen zijn gegroepeerd op drie niveaus: journey niveau, container niveau,
                en stappen op component niveau. Elke stap vereist een set van states en produceert een set van
                states (voorbeeld 1). Elke status beschrijft een stuk data, en is gekoppeld aan een SHACL
                shape (voorbeeld 2). Elke SHACL shape beschrijft de beperkingen van een stuk gegevens, om
                ervoor te zorgen dat alle gegevens kunnen worden gevalideerd (voorbeeld 3). Meer details staan beschreven in
                het <a href="./domein_model.html">domeinmodel</a>.           
             </p>
            <div class="h3_alinea">
                <h3 class="h3">2.1 Step Niveaus</h3>
                <p>
                    Stappen kunnen worden beschreven op verschillende niveaus van
                    granulariteit. Als resultaat van onze eerste tests hebben we drie niveaus geïntroduceerd: journey level,
                    container niveau en component niveau. Stappen op journey niveau hebben subpaden die
                    container niveau stappen bevatten, en containerniveau stappen hebben subpaden die component
                    niveau stappen bevatten. In een eerste versie hadden we alleen zeer fijne step descriptions die vervolgens 
                    konden worden gecombineerd. Deze oplossing bleek niet erg praktisch te zijn om twee
                    redenen:
                </p>
                <ol class="bullet-list bullet-list--tag">
                    <li class="bullet-list__item">
                        <strong>Gebruikerservaring:</strong> bij het omgaan met en het samenstellen van workflows, willen we
                        de gebruiker verschillende workflows aanbieden (of op zijn minst de volledige workflow
                        die de gebruiker op het punt staat te voltooien). Als dit resulteert in zeer lange workflows van zeer kleine stappen, 
                        is het moeilijk voor de gebruiker om een overzicht te hebben.
                    </li>
                    <li class="bullet-list__item">
                        <strong>Performantie:</strong> de samenstelling van de workflow door de SWP wordt te complex om
                        fatsoenlijke prestaties te garanderen, vooral wanneer veel stappen onafhankelijk zijn
                        van elkaar. Bijvoorbeeld, als we zes input stappen hebben die allemaal
                        informatie leveren voor een zevende stap die ervan afhangt, neemt de SWP intern
                        maximaal 6! = 720 alternatieve workflows in aanmerking. Wanneer we deze
                        zes inputstappen groeperen, bijvoorbeeld in twee groepen van drie, houdt de SWP intern rekening met
                        maximaal 2! + 3! + 3! = 14 alternatieve workflows. Hoewel dit geen invloed heeft op het totale aantal 
                        resulterende workflows, beïnvloedt het wel de prestaties.
                    </li>
                </ol>
            </div>
            <div class="h3_alinea">
                <h3 class="h3">2.2 Vertaal proces</h3>
                <p>
                    Voorbeeld 1, 2 en 3 zijn handmatig aangemaakt op basis van het online formulier. Een fragment van het
                    formulier is te zien in figuur 1. Hieronder laten we zien hoe we de semantische beschrijvingen 
                    hebben gemaakt op basis van de informatie in het formulier: (i) het identificeren van de journey niveau
                    stappen, (ii) identificeren van de component niveau stappen en bijbehorende states, (iii) groeperen, en (iv) vul de shapes aan. 
                    Als de states en de bijbehorende shapes van tevoren bekend zijn, zijn 2.2.2 en 2.2.4 gedeeltelijk ingevuld.
                </p>
                <figure class="img">
                    <img src="./rdf_description_images/figure_1.jpg"/>
                    <figcaption>
                        Figuur 1: een snippet van het online formulier
                    </figcaption>
                </figure>
                <div class="h4_alinea">
                    <h2 class="h4">2.2.1 Identificeer de stappen op journey niveau en de finale status</h2>
                    <p>
                        Een onlineformulier kan worden gezien als een proces in twee stappen: het invullen van alle
                        gegevens en het indienen van de gegevens. Daarom zijn er in voorbeeld 1 twee stappen op journey niveau
                        <strong>step:collectAddressChangeData</strong> en <strong>step:declareAddressChange</strong>.
                        De eerste stap op journey niveau vereist een o-steps:emptyState en de laatste stap op journey
                        niveau produceert de finale status: state:addressChangeDeclared.
                    </p>
                    <br/>
                    <p>
                        Voor het gebruiksgemak, zorg ervoor dat u een beschrijvend label toevoegt via de constructie 
                        <strong>o-steps:hasDescription [ xl:literalForm "[ENTER STEP LABEL
                        HERE]"@nl ]</strong> aan elke stap (niet enkel de stappen op journey niveau).
                    </p>
                    <br/>
                    <p>
                        Indien de tussentijdse gegevens worden verwerkt en het online formulier meerdere
                        secties zou bevatten, zou elke sectie kunnen worden gezien als een stap op journey niveau. Als het niet wordt verwerkt,
                        kan elke sectie van het formulier ook worden gezien als een stap op container niveau (zie punt
                        2.2.3)
                    </p>
                </div>
                <div class="h4_alinea">
                    <h2 class="h4">2.2.2 Identificeer alle stappen en states op component niveau en hergebruik waar mogelijk</h2>
                    <p>
                        Een stap op component niveau kan worden gezien als het interactie-element op het laagste niveau.
                        Elk dergelijk element wordt typisch gebruikt om gegevens op te vragen om een specifieke state in te vullen. In deze
                        sectie gaan we ervan uit dat de volledige lijst van states nog niet bekend is, en dus worden stappen en states op component niveau
                        gelijktijdig geïdentificeerd. Als de volledige lijst van states
                        gekend is, kan je verder gaan naar 2.2.3 en het toepassen van stappen op component niveau.
                    </p>
                    <br/>
                    <p>
                        Een state kan worden gezien als een stukje data dat we over de gebruiker weten. Om
                        toekomstbestendig te zijn, is het het beste om de individuele states zo klein
                        mogelijk te houden. Bijvoorbeeld: splitsing tussen voornaam en achternaam. Welke granulariteit je
                        kiest, hangt af van de use case (bijv. is het nodig om de geboortedatum op te splitsen in
                        dag/maand/jaar of niet), best practices in datamodellering, en welke ontologieën worden
                        hergebruikt (voorbeeld 2). Bij FAST hebben we ervoor gekozen om zo veel mogelijk aan te sluiten bij bestaande
                        OSLO vocabularia, door de OSLO vocabularia waar mogelijk te hergebruiken. Dit is
                        controleerbaar door de shapes te inspecteren (voorbeeld 3): de <strong>sh:path</strong> eigenschappen voor de
                        constraints zijn grotendeels gebaseerd op OSLO vocabularia.
                    </p>
                    <br/>
                    <p>
                        Als best practice, identificeren wij elk gegevenselement op zijn laagste
                        granulariteit als een stap op component niveau. Bijvoorbeeld, het "e-mailadres" element vertaalt zich in een 
                        <strong>step:provideEmail</strong> stap, en produceert de <strong>state:citizenEmailAddress</strong>. We kunnen dus het hele online
                        formulier gaan om elk individueel element te identificeren en er een stap aan te koppelen die een status produceert.              
                    </p>
                    <br/>
                    <p>
                        Waar mogelijk, moeten bestaande stappen zoveel mogelijk worden hergebruikt. Het is zeer waarschijnlijk
                        dat de <strong>step:provideEmail</strong> stap en de bijbehorende status herbruikbaar zullen zijn
                        in verschillende formulieren. Het is dus nuttig om deze stap en status te hergebruiken.              
                    </p>
                    <br/>
                    <p>
                        De bovenvermelde best practice om elk gegevenselement in zijn laagste
                        granulariteit te gebruiken is geen vaste eis: het is mogelijk om, bijvoorbeeld, de
                        <strong>state:citizenFirstName</strong> en <strong>state:citizenLastName</strong> te groeperen in een enkele
                        step:provideFullName stap. Meer over groeperen in 2.2.3.
                    </p>
                </div>
                <div class="h4_alinea">
                    <h2 class="h4">2.2.3 Identificeer en hergebruik waar mogelijk gegroepeerde states in stappen op container niveau m.b.v. alle vereiste en geproduceerde states</h2>
                    <p>
                        In voorbeeld 1, kozen we ervoor om de groepering van het online formulier letterlijk te vertalen in de
                        stappen op container niveau. Bijvoorbeeld, de <strong>step:provideNewAddress</strong> stap produceert
                        <strong>state:streetname, state:postcode, state:streetNumber</strong> enz. Door meerdere states te produceren, 
                        groepeert men meerdere states in een enkele stap.
                    </p>
                    <br/>
                    <p>
                        Deze de flexibiliteit van groeperen (op alle niveaus) is men in staat om de UX te beïnvloeden, door bijv,
                        wijzigingen aan te brengen voor A/B-tests. Optimale groepering en nesting van stappen
                        is dus afhankelijk van UX-expertise.
                    </p>
                    <br/>
                    <p>
                        Net als stappen op component niveau moeten bestaande stappen op container niveau
                        zoveel mogelijk worden hergebruikt.
                    </p>
                </div>
                <div class="h4_alinea">
                    <h2 class="h4">2.2.4 Identificeer en hergebruik shapes waar mogelijk</h2>
                    <p>
                        Elke status wordt geassocieerd met twee soorten metadata: een menselijk leesbaar label, en
                        een link naar een SHACL shape. Als de volledige lijst van states bekend is, kunt u
                        SHACL shapes associëren om het formaat van de data-elementen te beschrijven. Deze SHACL shapes
                        kunnen worden gebruikt bij het creëren van de UI, en om de (ingediende) gegevens te valideren. 
                        Op die manier kan de semantische webapplicatie de ingediende gegevens correct interpreteren en verwerken.
                    </p>
                    <br/>
                    <p>
                        In voorbeeld 3 wordt een reeks SHACL shapes beschreven. Bijvoorbeeld, de
                        <strong>shape:emailAddressShape</strong> shape specificeert dat elke burgerbeschrijving die
                        geclassificeerd is als een <strong>o-persoon:Inwoner</strong> ten minste één <strong>schema:email</strong> pad 
                        moet hebben waarvan de string overeenkomt met een specifiek patroon. Deze SHACL shapes zouden kunnen worden gebruikt om
                        de UX verder te ontwikkelen, bv. door automatisch af te leiden dat het invoeren van het emailadres
                        verplicht is, en elk ingevoerd emailadres wordt gevalideerd aan de hand van het patroon.
                    </p>
                    <br/>
                    <p>
                        Net als bij stappen moeten bestaande shapes zoveel mogelijk worden hergebruikt.
                    </p>
                </div>
            </div>
            <div class="h2_alinea">
                <h2 class="h2">3. SWP Aanpassingen</h2>
                <p>
                    Door de SWP toe te passen op de use case, merkten we een aantal schaalbaarheidsproblemen die we
                    hebben opgelost. Meer bepaald hebben we stap niveaus ingevoerd (zie 3.1) en de
                    prestaties verbeterd tijdens het berekenen van stappen (zie 3.2).
                </p>
                <div class="h3_alinea">
                    <h3 class="h3">3.1 'Goal generation' voor subpaden</h3>
                    <p>
                        Zonder stap niveaus creëert de SWP paden die beginnen bij de begintoestand (meestal leeg)
                        en eindigt bij de eindtoestand in één enkel proces. Aangezien dit niet goed schaalbaar is en
                        de gebruikerservaring vermindert (zie 2.1), introduceren we stap niveaus (journey,
                        container, en component). Workflow composition wordt zo een multi-proces systeem: 
                        zolang je niet te maken hebt met stappen op component niveau, roep je eerst
                        de SWP aan om de subpaden op een lager niveau te berekenen. Als je begint met een stap op journey niveau, 
                        vraag je eerst het subpad bestaande uit stappen op container niveau, vervolgens vraag je
                        het deelpad bestaande uit component stappen.
                    </p>
                    <br/>
                    <p>
                        Het berekenen van een subpad gebaseerd op een stap van een hoger niveau heeft de volgende vereisten.
                    </p>
                    <div class="h4_alinea">
                        <h4 class="h4">3.1.1 de 'subgoal' voor dit subpad afleiden op basis van de stap</h4>
                        <p>
                            De subgoal moet expliciet worden vermeld om er zeker van te zijn dat het resultaat van het subpad
                            gelijk is aan het resultaat van de oorspronkelijke stap.
                        </p>
                    </div>
                    <div class="h4_alinea">
                        <h4 class="h4">3.1.2 Leid de structuur van de input data voor dit specifieke subpad af op basis van de eerder uitgevoerde stappen</h4>
                        <p>
                            De structuur van de inputdata moet worden afgeleid om ervoor te zorgen dat een geldig subpad kan worden
                            gevonden zonder rekening te houden met de voorgaande stappen. Bijvoorbeeld, indien een stap op container
                            niveau de persoonsgegevens van een burger moet kennen vooraleer de adreswijziging kan worden aangevraagd, 
                            moet de structuur van de persoonlijke informatie van een burger worden afgeleid op basis van de voorafgaande 
                            relevante stappen op container niveau. Zonder deze structuur af te leiden en deze te gebruiken als input voor de subpadberekening, 
                            kan de SWP geen enkel subpad berekenen omdat de vereiste input niet kan worden achterhaald.                            
                        </p>
                        <br/>
                        <p>
                            Om er zeker van te zijn dat de subpaden nog steeds optimaal zijn, wordt de cost van elke stap
                            in rekening gebracht. Elke stap heeft costs van verschillende types: deze costs zijn de limieten voor
                            het uiteindelijke doel. Het algoritme van SWP zorgt ervoor dat de cost van elke stap binnen de
                            beschreven limieten blijft. Bijvoorbeeld, wanneer een stap op container niveau een cost heeft van 200 voor een
                            specifiek type zoals duur, wordt ervoor gezorgd dat de som van alle subpad-stappen
                            lager blijft dan 200. Door deze costs te hergebruiken bij het berekenen van de subpaden, zorgen we
                            ervoor dat de costs van elk subpad ook binnen de grenzen van de oorspronkelijke stap blijven.                                                        
                        </p>
                        <br/>
                        <p>
                            Zodra we de subgoal en structuur van de input data hebben afgeleid, kan de SWP
                            het subpad voor elke stap berekenen op basis van de vooraf geselecteerde stappen op hoger niveau, de
                            subgoal, de structuur van de input data, en de gebruikersspecifieke profielinformatie. Dit
                            proces is hetzelfde voor de berekening van het subpad van zowel stappen op journey- als op container niveau.                                                                                 
                        </p>
                    </div>
                </div>
                <div class="h3_alinea">
                    <h3 class="h3">3.2 Performantie</h3>
                    <p>
                        Dankzij het testen van verschillende use-cases hebben we enkele algemene verbeteringen voor de
                        performantie: alleen relevante stappen in aanmerking nemen bij het berekenen van een pad (zie
                        3.2.1), ervoor zorgen dat elke stap maar één keer hoeft te worden voltooid (zie 3.2.2)en het negeren van
                        permutaties van onafhankelijke stappen (zie 3.2.3).
                    </p>
                    <div class="h4_alinea">
                        <h4 class="h4">3.2.1 Preselection step</h4>
                        <p>
                            Op basis van de structuur van de input data en de step description kunnen we een subset van
                            relevante stappen afleiden voordat we het eigenlijke pad berekenen. Bijvoorbeeld, als we kunnen afleiden dat
                            een procedure geen gegevens over de huisdieren van een burger opvraagt, kunnen we alle stappen negeren die gegevens over huisdieren behandelen. 
                            Dit verlaagt het aantal stappen dat in aanmerking wordt genomen bij het berekenen van het pad en verlaagt de rekentijd voor de SWP.                           
                        </p>
                        <br/>
                        <p>
                            Deze 'pre selection step' kan ook worden gebruikt bij het berekenen van de subpaden. Eerst worden 
                            de stappen verdeeld in journey-, container- en componentstappen, omdat bij het berekenen 
                            van een subpad op journey niveau, je alleen rekening hoeft te houden met stappen op containerniveau. 
                            Dan, gebaseerd op de afgeleide structuur van de input data, kunnen de verdeelde stappen verder gefilterd worden om 
                            stappen uit te sluiten die de afgeleide inputdatastructuur niet aankunnen.
                        </p>
                    </div>
                    <div class="h4_alinea">
                        <h4 class="h4">3.2.2 Elke stap once-only</h4>
                        <p>
                            Om te voldoen aan het OOP-principe (Once-Only Principle), hebben we de SWP zo aangepast
                            dat workflows elke stap hooguit één keer bevatten. Dit is zeer nuttig voor de FAST use cases, 
                            omdat FAST use cases typisch life events behandelen: data wordt gewijzigd omdat
                            de leefomgeving wordt gewijzigd (bv. verhuizing tussen steden). In dit soort use
                            cases hoeft elke stap maar één keer te worden uitgevoerd. Door ervoor te zorgen dat elke stap
                            slechts eenmaal in aanmerking wordt genomen, verlagen we het aantal relevante stappen voor elke padberekening 
                            en verlagen we de rekentijd voor de SWP.                    
                        </p>
                        <br/>
                        <p>
                            Deze wijziging blijft configureerbaar, aangezien er andere soorten gebruik zijn waarbij
                            bepaalde stappen meerdere keren moeten worden uitgevoerd.
                        </p>
                    </div>
                    <div class="h4_alinea">
                        <h4 class="h4">3.2.3 Geen permutaties</h4>
                        <p>
                            Wanneer veel stappen onafhankelijk zij van elkaar en we alleen vertrouwen op een geordende lijst
                            van stappen, kunnen veel alternatieve workflows worden gecreëerd. Bijvoorbeeld "vul voornaam in dan achternaam" 
                            en "vul achternaam in dan voornaam" zijn twee verschillende workflows. Terwijl "vul
                            voornaam en achternaam in" slechts één workflow is. De combinatorische explosie aan mogelijkheden
                            vermindert de prestatie van de SWP, bv. vijf onafhankelijke stappen resulteren in 120
                            alternatieve workflows.                                        
                        </p>
                        <br/>
                        <p>
                            Wij hebben het oorspronkelijke pad-algoritme gewijzigd om af te leiden welke stappen onafhankelijk zijn van
                            elkaar (d.w.z. wanneer hun vereiste input states elkaar niet overlappen), En indien dit het geval is,
                            deze stappen terug in een ongeordende in plaats van een geordende lijst te plaatsen. Op die manier resulteren vijf onafhankelijke stappen
                            in een enkele workflow (of subpad). Op die manier bieden we zinvolle opties aan terwijl de prestaties gewaarborgd blijven.                            
                        </p>
                    </div>
                </div>
            </div>
            <div class="h2_alinea">
                <h2 class="h2">4. API Verbetering: Gebruikersfeedback</h2>
                <p>
                    Het is belangrijk dat de gebruiker (in ons geval de burger) kan zien welke gegevens worden gebruikt,
                    vooral wanneer specifieke stappen gegevens aan derden verstrekken. Om de gebruikerservaring te
                    te verbeteren, hebben we hiervoor ondersteuning opgenomen in de SWP. Voor elke stap kan de gebruiker nu vragen
                    welke concrete gegevens in aanmerking komen die aan derden worden voorgelegd. Specifieke documentatie over deze feedback loop is beschikbaar
                    op de <a href="https://fast.ilabt.imec.be/docs/server/0.9.0/#producing-info-used-by-a-step">SWP-documentatie</a>.
                </p>
            </div>
            <div class="h2_alinea">
                <h2 class="h2">5. Conclusie</h2>
                <p>
                    We hebben de toepassing van een use-case op de SWP besproken. Meer bepaald,
                    sectie 2 beschrijft enkele best practices voor het handmatig creëren van goed gestructureerde
                    OSLO-STEPS beschrijvingen die door de SWP kunnen worden gebruikt. Naast het feit dat de
                    SWP de gegeven use-cases met succes afhandelde, kwamen enkele algemene
                    verbeteringen naar voren.                     
                </p>
                <br/>
                <p>
                    Ten eerste, het gebruik van stapniveaus verhoogt de prestaties en gebruikerservaring, en
                    maakt een meer geavanceerde configuratie van de UX mogelijk. In dit project leken drie stapniveau 
                    voldoende en dit werd geïmplementeerd met behulp van een pre selection step. Indien nodig kan een meer geavanceerde nesting worden ontworpen.                  
                </p>
                <br/>
                <p>
                    Ten tweede werd duidelijk dat het beperken van de opties, de prestaties van
                    de SWP fel verbetert. We zagen dit vooral in het optimaliseren van de performantie: nesten van de stappen, filteren
                    op de relevante stappen, het beperken van elke stap om het slechts eenmalig uit te voeren, en het niet toestaan van
                    permutaties verminderden het aantal (equivalente) workflow-alternatieven aanzienlijk. 
                    Extra pre selection steps om verder de verzameling irrelevante opties te filteren, kunnen voordelig blijken te zijn.                                       
                </p>
                <br/>
                <p>
                    Bovendien zijn deze extra pre selection steps afhankelijk van de OSLO-STEPS
                    beschrijvingen en moeten ze dus worden berekend telkens wanneer de beschrijvingen veranderen.
                    Ze zijn echter niet afhankelijk van de gebruikersinformatie waarmee rekening wordt gehouden bij
                    het berekenen van de (sub)paden. Deze pre selection steps hoeven dus geen invloed te hebben op
                    de verwerkingstijd wanneer een gebruiker om een gepersonaliseerde workflow vraagt. Want ze zo kunnen worden
                    geïmplementeerd om alleen de update-tijd aan te passen wanneer de OSLO-STEPS beschrijvingen
                    veranderen.                                
                </p>
            </div>
        </div>
    </div>
    <div class="next">
        <a class="button" href="./intro.html">Terug naar Intro</a>
    </div>
</main>

<style>
    .equal-height {
        height: 100%;
        justify-content: normal;
    }

    figure.img {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top:  30px;
        margin-bottom: 30px;
        width: 50%;
    }

    figure.listing {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top:  30px;
        margin-bottom: 30px;
        width: 70%;
        text-align: center;
    }

    figcaption {
        text-align: center;
    }

    h1 {
        margin-top: 20px;
        text-align: center;
    }

    .h2_alinea {
        margin-top: 20px;
        margin-bottom: 5px;
    }

    .h3_alinea {
        margin-top: 10px;
    }

    .h4_alinea {
        margin-top: 10px;
    }

    .h4 {
        margin-bottom: 5px;
    }

    .nav_bar {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        text-align: center;
    }

    .nav_bar li {
        display: inline-block;
    }

    .next {
        text-align: center;
        margin-bottom: 30px;
    }

    pre {
        text-align: left;
        overflow: auto;
        font-weight:bold;
        height: fit-content;
    }

    pre.background { 
        background-color: #ECF0F1; 
        height:auto;
    }

    .code_comment {
        color: #7ED956;
    }

</style>

<script>
    function goBack() {
        window.history.back();
    }

    function toggle(elementID) {
        const element = document.getElementById(elementID);
        if (element.classList.contains('js-accordion--open')) {
            element.classList.remove('js-accordion--open');
        } else {
            element.classList.add('js-accordion--open');
        }
    }
</script>
</body>
</html>